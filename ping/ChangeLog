2005-07-30  Sergey Poznyakoff  <gray@gnu.org.ua>

	* ping.c (main,ping_run): Handle ping intervals with millisecond
	precision. 

2005-07-29  Alfred M. Szmidt  <ams@gnu.org>

	* ping_common.h (ping_cvt_number): Prototype restored (but with
	updated types).

	* ping_common.c (ping_cvt_number): Changed return type to size_t,
	changed type of argument maxval to size_t.

	* ping.c (ping_cvt_number): Removed (once again).

2005-07-29  Sergey Poznyakoff  <gray@gnu.org.ua>

	* ping.c (main): Changed types of count and interval
	(ping_cvt_number): Restored function. atoi should not be
	used to convert to size_t. According to POSIX "The atoi() function
	is subsumed by strtol() but is retained because it is used
	extensively in existing code. If the number is not known to be in
	range, strtol() should be used because atoi() is not required to
	perform any error checking. 
	* ping_common.h (ping_cvt_number): Remove prototype

2005-06-19  Jeroen Dekkers  <jeroen@dekkers.cx>

	* Makefile.am: Add ping6.
	(ping_SOURCES): Add ping_common.c and ping_common.h.
	* ping6.c: New file.
	* ping6.h: Likewise.
	* ping_common.c: Likewise.
	* ping_common.h: Likewise.
	* ping.c: Include "ping_common.h". Remove __P macro in
	prototypes.
	(ping_cvt_number, init_data_buffer,
	 decode_pattern, show_license): Move to ...
	* ping_common.c: ... here.
	* ping_echo.c: Include "ping_common.h".
	(tvsub, nabs, nsqrt): Move to ...
	* ping_common.c: ... here.

2005-01-21  Alfred M. Szmidt  <ams@gnu.org>

	* Makefile.am (INCLUDES): Removed `-I$(top_builddir)/include'.
	(LDADD): Added `-L../lib -lgnu'.

2005-01-20  Alfred M. Szmidt  <ams@gnu.org>

	* ping.c: Comply with GCS.
	(init_data_buffer): Use xmalloc().
	(show_usage): Print the "report bugs" string as all other GNU
	programs do.

2005-01-20  Alfred M. Szmidt  <ams@gnu.org>

	* ping.c: Include <stdbool.h>
	(ping_cvt_number): Function removed.
	(main): Store the values for -c, -i and -t in variables, and don't
	use `ping_cvt_number' to check if the arguments to an option are
	valid, do it manually.  Set them accordingly after ping_init() is
	done.

	* ping.c (main): Changed type of `is_root' to `bool'.  Update all
	usage accordingly.

	* ping.c (main): Moved ping startup code to after the parsing of
	the command line.  (and no, this should not be done before any
	command line parsing!)

2004-03-03  Sergey Poznyakoff  <gray@Mirddin.farlep.net>

	* ping.c (ping_cvt_number): Take an additional parameter
	indicating whether zero value is allowed.
	* Makefile.am: Conditional install-exec-hook

2003-11-10  Sergey Poznyakoff  <gray@Mirddin.farlep.net>

	* ping.c (ping_cvt_number): New function.
	(main): Check numeric options for validity.
	* ping_echo.c: Rewritten diagnostic output.
	Use original returned IP header.
	* ping_impl.h (PING_MAX_DATALEN): New define.

2003-04-21  Sergey Poznyakoff  <gray@Mirddin.farlep.net>

	* ping.c (ping_run): Bugfix. Thanks Jim Balter
	<Jim.Balter@cw.com> for the patch.

2003-04-05  Sergey Poznyakoff  <gray@Noldor.runasimi.org>

	* ping.c: Bugfix: ping.ping_count means the maximum
	number of packets to send.
	* ping_echo.c (nabs): New function.

2003-01-15  Sergey Poznyakoff  <gray@Mirddin.farlep.net>

	* Makefile.am: Removed libm dependency.
	* ping_echo.c: Removed call to sqrt.

2002-12-06  Sergey Poznyakoff  <gray@Mirddin.farlep.net>

	* ping/ping.c (main): Added spaces between cases in a switch
	to conform to the GCS.

2002-09-06  Sergey Poznyakoff  <gray@Noldor.runasimi.org>

	* ping.c (main): Removed duplicate startup introduced
	  2002-06-24. Should have been more careful!

2002-08-09  Sergey Poznyakoff  <gray@Mirddin.farlep.net>

	* ping.c (main): Restored ping startup to its right place.

2002-06-24  Alfred M. Szmidt  <ams@kemisten.nu>

	* ping.c (main): Moved ping startup code to after the parsing
	of the command line.
	(is_root): Variable moved into main().

2002-04-29  Alfred M. Szmidt  <ams@kemisten.nu>

	* ping_timestamp.c, ping_router.c, ping_echo.c, ping_address.c
	<version.h>: Include removed.

	* ping.c <version.h>: Include removed.
	(inetutils_package): Renamed to PACKAGE_NAME.
	(inetutils_version): Renamed to PACKAGE_VERSION.
	(inetutils_bugaddr): Renamed to PACKAGE_BUGREPORT.

2002-04-21  Alfred M. Szmidt <ams@kemisten.nu>

	* Makefile.am (bin_PROGRAMS): Use ping_BUILD instead of BUILD_PING.

2002-02-10  Jeff Bailey  <jbailey@outpost.dnsalias.org>

	* Makefile.am: Add -I$(top_builddir)/include to INCLUDES

2001-11-21  Sergey Poznyakoff  <gray@farlep.net>

	* ping/Makefile.am: Added $(man_MANS) to EXTRA_DIST.
	* ping/ping.8: Fixed permissions

2001-11-01  Alain Magloire

	* ping.8: New file.
	* Makefile.am: man_MANS = ping.8.

2001-08-11  Sergey Poznyakoff  <gray@farlep.net>

	* ping_echo.c: Removed restriction on hostname lengths in
	ipaddr2str.
	* ping.c: Fixed coding style to comply with GNU.
	* ping_address.c: Likewise.
	* ping_impl.h: Likewise.
	* ping_router.c: Likewise.
	* ping_timestamp.c: Likewise.

2001-07-14  Sergey Poznyakoff  <gray@farlep.net>
	* ping.c: Use inetutils_package instead of PACKAGE. Same for
	VERSION.

2001-06-20  Sergey Poznyakoff  <gray@farlep.net>
	Patches by Alain:
	* ping_address.c,ping_echo.c,ping_router.c,ping_timestamp.c:
		<signal.h> -> <sys/signal.h>


2001-06-19  Sergey Poznyakoff  <gray@farlep.net>
	* Makefile.am: use @BUILD_PING@ instead of directly
	  assigning bin_PROGRAMS.
	* ping.h: changed counters in struct PING from int to longs.
	* ping.c,ping_address.c,ping_echo.c,
	  ping_impl.h,ping_router.c,ping_timestamp.c:
		Fixed a bunch of inconsistencies (thanks to Alain).
		Changes to make gcc -Wall less verbose.

2001-06-18  Sergey Poznyakoff  <gray@farlep.net>
	* Makefile.am: added OMIT_DEPENDENCIES
	* ping.c,ping_address.c,ping_echo.c,ping_impl.h,ping_timestamp.c:
		Implemented ICMP_TIMESTAMP and ICMP_ADDRESSMASK requests.
	  None of existing routers answers the latter, though.

2001-06-13  Sergey Poznyakoff  <gray@farlep.net>
	* ping.c: implemented
	* ping_address.c, ping_echo.c, ping_impl.h, ping_router.c,
	  ping_timestamp.c: added to repository.
