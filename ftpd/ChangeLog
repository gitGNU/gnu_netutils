2000-07-08  Michael Vogt  <mvo@debian.org>

	* ftpd.c(main): added new option "-A" anonymous login only
	added new option "-q" quiet to  do not print ftpd version.

2000-07-08  Michael Vogt  <mvo@debian.org>

	* ftpd.c(main): added new option "-D" for daemon-mode,
	ftpd can now run without inetd

2000-07-07 Alain Magloire

	* ftpd.c(sgetpwnam()): if HAVE_GETSPNAM && HAVE_SHADOW_H, call
	getspnam() to get the encrypted passwd.

2000-07-06 Michel Vogt

	* popen.c: Instead of spwaning "/bin/ls" use the internal ls
	from libls.a.

	* ftpd.c: use setproctitle ("%s", protittle);

2000-07-05 Alain Magloire

	* *: Clause 3 removed.
	excerpt from email with RMS:
	"UCB has agreed to drop the advertising clause from the license for all
	BSD software.  The advertising clause is this one:

	3. All advertising materials mentioning features or use of this software
		must display the following acknowledgement:
		This product includes software developed by the University of
		California, Berkeley and its contributors.

	This means that we can delete that paragraph from all files which give
	the University of California as the only copyright holder."

1999-02-26 Alain Magloire

	The security fixes are gather from different sources:
	folks of OpenBSD, FreeBSD, Debian, Redhat and wu-ftpd.
	Heads-up for their nice work.


	* popen.c : overflow in argv[] and gargv[] fix.

1999-02-17 Alain Magloire

	* ftpd.c(send_data): Use mmap() if possible, HAVE_MMAP.
	* extern.h : Add toolong() to be exported.
	* ftpcmnd.y : toolong() no longer a static function.
	* ftpd.c : Set the alarm(timeout) when doing an accept() for
	the data port and use signal(SIGALRM, toolong).
	* ftpd.c(maing): tzset(), in case no timezone database in ~ftp.
	* ftpd.c(datacon) : Use snprintf() instead of sprintf() for
	fix array buffers. Assign *sizebuf ='\0' instead of 
	strcpy (sizebuf, "");
	* Use xgetcwd() from libinetutils instead of getcwd();

1999-02-13 Alain Magloire

	* ftpcmd.y : PORT command disallow PORT if :
		- port <= 1023 || data_addr.sin_addr != his_addr.sin_addr
	This will take care of FTP bounce. See README.sec 
	* ftpcmd.y : PASS clear passwd var(memset) asap.
	* ftpcmd.y : PASV check if loggin.
	* ftpcmd.y : RNTO check loggin and free $4 pointer.
	* ftpcmd.y : HELP free $3 pointer.
	* ftpcmd.y : SITE free $5 pointer.
	* ftpcmd.y : RNFR free $4 pointer.
	* ftpcmd.y : MDTM year 2000 compliant use %04d (tm_year + 1900).
	* ftpcmd.y : SITE IDLE not permit to disable timeout and check login.
